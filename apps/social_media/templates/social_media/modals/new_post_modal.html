
<!-- modal for new post pop-up -->

<div id="newPostModal" class="modal fade new-post-modal" tabindex="-1" role="dialog" aria-labelledby="newPostModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered mx-auto" role="document">
        <div class="modal-content">
        <!-- modal header -->
            <div class="modal-header py-1">
                <strong id="newPostHeader" class="modal-title">Post a mew photo</strong>
                <button type="button" class="close js-refresh-page" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

        <!-- modal body -->
            <div class="modal-body">
                <div class="" style="max-width:100%;">
                    <canvas id="newPostCanvas" height="" width=""></canvas>
                </div>

                <div class="w-100 mt-2 text-center">
                    <div class="btn-group pull-left" role="group">
                        <button type="button" class="btn btn-info js-zoom-in">
                            <i class="fas fa-search-plus"></i>
                        </button>
                        <button type="button" class="btn btn-info js-zoom-out">
                            <i class="fas fa-search-minus"></i>
                        </button>
                    </div>

                    <div class="btn-group btn-group-toggle pull-left" role="group" data-toggle="buttons">
                        <label class="btn btn-info js-square-ratio active">
                            <input type="radio" name="ratio" id="ratioSquare" autocomplete="off"> 1:1
                        </label>
                        <label class="btn btn-info js-portrait-ratio">
                            <input type="radio" name="ratio" id="ratioPortrait" autocomplete="off"> 3:4
                        </label>
                        <label class="btn btn-info js-landscape-ratio"><i class="fas fa-crop-alt"></i>
                            <input type="radio" name="ratio" id="ratioLandscape" autocomplete="off" checked>  4:3
                        </label>
                    </div>
                </div>

                <div class="mt-2 w-100">
                    <form id="new_post_form" enctype="multipart/form-data" action="{% url 'social_media:new_post' %}" method="POST">
                        {% csrf_token %}
                        <input id="id_user" name="user" type="hidden" value="{{ user.id }}">
                        <input id="id_x" name="x" type="hidden">
                        <input id="id_y" name="y" type="hidden">
                        <input id="id_width" name="width" type="hidden">
                        <input id="id_height" name="height" type="hidden">
                        <input id="id_rotate" name="rotate" type="hidden">
                        <input id="photo_url" name="photo_url" value="" type="hidden">
                        <textarea name="caption" class="form-control" maxlength="255" rows="2" placeholder="add a caption..." required></textarea>
                        <button id="submitNewPostButton" class="d-none" type="submit">submit new post</button>
                    </form>
                </div>
            </div>

        <!-- modal footer -->
            <div class="modal-footer pt-2 p-md-3">
                <button type="button" class="btn btn-secondary js-refresh-page" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary js-crop-and-post-new">Post Meow</button>
            </div>

        <!-- end of modal content -->
        </div>
    </div>
</div> <!-- close modal -->
