<!-- this template is for the "My Account" section -->

{% extends 'social_media/base.html' %}


{% block title %}KittenStagram | My Account{% endblock %}


{% block content %}
{% include 'social_media/modals/set_avatar_modal.html' %}
{% include 'social_media/modals/delete_avatar_modal.html' %}

<!-- hidden form for avatar creation / used for all screen sizes -->
<form id="avatar_upload_form" class="d-none" enctype="multipart/form-data" action="{% url 'social_media:set_avatar' user.id %}" method="POST">
    {% csrf_token %}
    {{ form }}
</form>


<div class="rounded bg-white mx-auto p-3 col-xl-7">
    <!-- avatar image -->
    <div class="d-md-flex">
        <div class="avatarWrapper col-md-4 p-0">
            <label id="avatarLabel" class="btn-link" for="id_avatar">
                <img id="accountAvatar" class="img-thumbnail p-2" src="/{{ user.profile.avatar.url }}" alt="avatar">
                <div class="middle d-none">
                    <div class="btn border rounded-circle px-3 py-0 m-0" style="opacity:0.5; background:#f8f9fa; font-size:4em;">
                        <i class="fas fa-plus"></i>
                    </div>
                </div>
            </label>
        </div>

        <div class="flex-fill pl-md-3">
            <ul class="list-group h-100 pb-md-2">
                <li class="list-group-item bg-light d-md-flex">
                    <span class="w-100">Mewmoir</span>

                    <span class="d-none d-md-block flex-md-shrink-1">
                        <a class="text-muted" href=""><i class="far fa-edit"></i></a>
                    </span>
                </li>
                <li class="list-group-item text-justify h-100">
                    {% if user.profile.bio %}
                        {{ user.profile.bio }}
                    {% else %}
                        <span class="text-black-50">Cat got your tongue? Tell us about yourself!</span>
                    {% endif %}
                </li>
            </ul>
        </div>
    </div>

    <!-- <button class="btn btn-info btn-large" data-toggle="modal" data-target="#deleteAvatarModal">Delete Avatar</button> -->
    <div class="d-md-flex">
        <div class="flex-fill pr-md-3">
            <ul class="list-group pt-2" style="word-wrap:break-word;">
                <li class="list-group-item bg-light d-md-flex">
                    <span class="w-100">General</span>
                    <span class="d-none d-md-block flex-md-shrink-1">
                        <a class="text-muted" href=""><i class="far fa-edit"></i></a>
                    </span>
                </li>

                <li class="list-group-item">
                    Username: <span class="text-secondary">{{ user.username }}</span>
                </li>
                <li class="list-group-item">
                    Email: <span class="text-secondary">{{ user.email }}</span>
                </li>
                <li class="list-group-item">
                    Full Name: <span class="text-secondary">{{ user.first_name }}</span>
                    <span class="text-secondary">{{ user.last_name }}</span>
                </li>
                <li class="list-group-item">
                    Nickname: <span class="text-secondary">{{ user.profile.nickname }}</span>
                </li>
                <li class="list-group-item">
                    Birthday: <span class="text-secondary">{{ user.profile.dob }}</span>
                </li>
                <li class="list-group-item">
                    Location: <span class="text-secondary">{{ user.profile.location }}</span>
                </li>
            </ul>
        </div>

        <div class="col-md-4 p-0">
            <ul class="list-group pt-2" style="word-wrap:break-word;">
                <li class="list-group-item bg-light">Account</li>
                <li class="list-group-item">Change Password</li>
                <li class="list-group-item">Delete Account</li>
                <li class="list-group-item">
                    Date Joined: <span class="text-secondary">{{ user.date_joined }}</span>
                </li>
            </ul>
        </div>

    </div>

</div>



{% endblock %}
