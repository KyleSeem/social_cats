<!-- this template is for the "My Account" section -->

{% extends 'social_media/base.html' %}


{% block title %}KittenStagram | My Account{% endblock %}


{% block content %}
{% include 'social_media/modals/set_avatar_modal.html' %}
{% include 'social_media/modals/delete_avatar_modal.html' %}

<!-- hidden form for avatar creation / used for all screen sizes -->
<form id="avatar_upload_form" class="d-none" enctype="multipart/form-data" action="{% url 'social_media:set_avatar' user.id %}" method="POST">
    {% csrf_token %}
    {{ form }}
</form>


<div class="rounded bg-white mx-auto p-3 col-xl-10">
    <!-- avatar image -->
    <div class="d-md-flex">
        <div class="avatarWrapper position-relative col-md-4 p-0">
            <label id="" class="btn-link" for="id_avatar">
                <img id="accountAvatar" class="img-fluid img-thumbnail p-2" src="/{{ user.profile.avatar.url }}" alt="avatar">
                <div class="middle">
                    <div class="btn-link border rounded-circle px-3 m-0" style="opacity:0.5; background:#f8f9fa; font-size:4em;">
                        <i class="fas fa-plus"></i>
                    </div>
                </div>
            </label>
        </div>

        <div class="flex-fill pl-md-3">
            <ul class="list-group" style="word-wrap:break-word;">
                <li class="list-group-item bg-light">Account Details</li>
                <li class="list-group-item">
                    Username: <span class="text-secondary">{{ user.username }}</span>
                </li>
                <li class="list-group-item">
                    Email: <span class="text-secondary">{{ user.email }}</span>
                </li>
                <li class="list-group-item">
                    Avatar: <span class="text-secondary">{{ user.avatar.file }}</span>
                </li>
            </ul>

            <button class="btn btn-info btn-large" data-toggle="modal" data-target="#deleteAvatarModal">Delete Avatar</button>
        </div>
    </div>

    <div class="w-100 pt-2">
        <ul class="list-group">
            <li class="list-group-item bg-light">Profile</li>
            <li class="list-group-item">Sign up date: {{ user.profile.updated_at }}</li>
            <li class="list-group-item">{{ user.profile.avatar }}</li>
            <li class="list-group-item">Item</li>
        </ul>

        <ul class="list-group">
            <li class="list-group-item bg-light">Settings</li>
            <li class="list-group-item">Item</li>
            <li class="list-group-item">Item</li>
            <li class="list-group-item">Item</li>
        </ul>
    </div>
</div>



{% endblock %}
